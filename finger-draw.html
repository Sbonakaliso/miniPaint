<!DOCTYPE html>
<html>
  <head>
  	<style type="text/css">
  		canvas{
  			border:solid 2px rgb(0,162,232);
  		}
  	</style>
    <link rel="shortcut icon" href="http://antifavicon.com/genicon2.cgi?txttop=%26&txtbot=&fgtop=%2300a2e8&fgbot=%2300a2e8&bgtop=%23000000&bgbot=%23000000&bcolor=&drawborder=no" />
	<title>&Attend</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
    	<!-- Latest compiled and minified CSS -->
    	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    	<!-- jQuery library -->
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    	<!-- Latest compiled JavaScript -->
    	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    	<link rel="stylesheet" type="text/css" href="styles/edufrenzy.css">
    	<script>
	TogetherJSConfig_siteName="Drawing";
	TogetherJSConfig_toolName="Comm Tool";
	TogetherJSConfig_findRoom="Stylus";
	TogetherJSConfig_suppressJoinConfirmation=true;
	TogetherJSConfig_suppressInvite=true;
	TogetherJSConfig_autoStart=true;
    </script>
<script src="https://togetherjs.com/togetherjs-min.js"></script>
    <script>
      var canvas;
      var ctx;
      var lastPt = new Object();
      var colours = ['red', 'green', 'blue', 'yellow','black'];
      function init() {
        var touchzone = document.getElementById("mycanvas");
        touchzone.addEventListener("touchmove", draw, false);
        touchzone.addEventListener("touchend", end, false);
        canvas = document.getElementById('mycanvas');
        ctx = canvas.getContext("2d");
      }
      
      function draw(e) {
        e.preventDefault();
        console.log(e);
        
        for(var i=0;i<e.touches.length;i++) {
          var id = e.touches[i].identifier;
          if(lastPt[id]) {
            ctx.beginPath();
            ctx.moveTo(lastPt[id].x, lastPt[id].y);
            ctx.lineTo(e.touches[i].pageX, e.touches[i].pageY);
            ctx.strokeStyle = colours[id%4];
            ctx.lineWidth = 3;
            ctx.stroke();
          }
          lastPt[id] = {x:e.touches[i].pageX, y:e.touches[i].pageY};
        }
      }
      
      function end(e) {
        e.preventDefault();
        for(var i=0;i<e.changedTouches.length;i++) {
          var id = e.changedTouches[i].identifier;
          delete lastPt[id];
        }
      }
      
    </script>
  </head>
  
  <body onload="init()">
    <canvas id="mycanvas" width="700" height="500">
      Canvas element not supported.
    </canvas>
  </body>
  
</html>
